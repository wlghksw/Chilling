<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>ì•¼êµ¬ ë§¤ì¹˜ ì‹ ì²­</title>
    <style>
        :root {
            --pitch-max-w: 900px;
            --line: rgba(255,255,255,.85);
            --grass1: #2d5a2d;
            --grass2: #1e4a1e;
            --dirt: #b88453;
            --dirt2: #9a6e43;
            --dirtDark: #8a5c35;
        }

        /* ê¸°ë³¸: í™”ì´íŠ¸ ë°°ê²½ + ë‹¤í¬ ê¸€ì */
        body { margin:0; background:#ffffff; color:#111; font-family:system-ui, sans-serif; }

        /* ìˆ˜ì •ëœ í—¤ë” ìŠ¤íƒ€ì¼ */
        .header {
            background: #ffcccc; /* ì—°í•œ ë¹¨ê°„ìƒ‰ ë°°ê²½ */
            color: #c00; /* ì§™ì€ ë¹¨ê°„ìƒ‰ ê¸€ì”¨ */
            padding: 20px clamp(16px, 4vw, 40px);
            display: flex;
            justify-content: center; /* h2ë¥¼ ê°€ìš´ë°ë¡œ ì •ë ¬ */
            align-items: center;
            border-bottom: 2px solid #ff9999;
            position: relative; /* ìì‹ ìš”ì†Œì˜ absolute ìœ„ì¹˜ ê¸°ì¤€ */
        }
        .header h2 {
            margin: 0;
            font-weight: 800;
        }
        .btn-list {
            background: #ff6666;
            color: #fff;
            padding: 10px 18px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.2s;
            position: absolute; /* header ë‚´ì—ì„œ ë…ë¦½ì ìœ¼ë¡œ ìœ„ì¹˜ */
            right: clamp(16px, 4vw, 40px); /* ì˜¤ë¥¸ìª½ ëì— ìœ„ì¹˜ */
        }
        .btn-list:hover {
            background: #e65c5c;
        }

        .field {
            position: relative;
            width: min(95vw, var(--pitch-max-w));
            height: min(95vw, var(--pitch-max-w));
            margin: 0 auto 24px;
            border-radius: 18px;
            overflow: hidden;
            background: var(--grass1);
            box-shadow: 0 20px 50px rgba(0,0,0,.15), inset 0 0 0 2px #0a1b0a;
        }

        /* ì”ë”” íŒ¨í„´ */
        .grass-pattern {
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(45deg, var(--grass1) 0%, var(--grass1) 8%, var(--grass2) 8%, var(--grass2) 16%);
        }

        /* ë‚´ì•¼ í™ ë‹¤ì´ì•„ëª¬ë“œ */
        .infield-dirt {
            position: absolute;
            left: 50%;
            bottom: 15%;
            width: 50%;
            height: 50%;
            background: var(--dirt);
            transform: translateX(-50%) rotate(45deg);
            border-radius: 8px;
            box-shadow: inset 0 0 0 3px var(--dirtDark);
        }

        /* ë² ì´ìŠ¤ */
        .base {
            position: absolute;
            width: 3%;
            height: 3%;
            background: #fff;
            border: 2px solid #333;
            border-radius: 2px;
            transform: rotate(-45deg);
        }
        .first-base { left: 80%; top: 58%; }
        .second-base { left: 50%; top: 30%; transform: translate(-50%, -50%) rotate(-45deg); }
        .third-base { left: 16%; top: 58%; }

        /* í™ˆí”Œë ˆì´íŠ¸ */
        .home-plate {
            position: absolute;
            left: 50%;
            bottom: 6%;
            width: 4%;
            height: 4%;
            background: #fff;
            transform: translateX(-50%) rotate(180deg);
            clip-path: polygon(50% 0%, 0% 55%, 0% 100%, 100% 100%, 100% 55%);
        }

        /* íˆ¬ìˆ˜ ë§ˆìš´ë“œ */
        .mound {
            position: absolute;
            left: 50%;
            top: 30%;
            width: 6%;
            height: 6%;
            border-radius: 50%;
            background: var(--dirt);
            transform: translate(-50%, -50%);
            box-shadow: inset 0 0 0 3px var(--dirtDark);
        }

        /* íŒŒìš¸ ë¼ì¸ */
        .foul-line {
            position: absolute;
            left: 50%;
            bottom: 15%;
            width: 0;
            height: 0;
            pointer-events: none;
        }
        .foul-line::before, .foul-line::after {
            content: "";
            position: absolute;
            width: 0;
            height: 0;
            border: 2px solid rgba(255,255,255,.3);
        }
        .foul-line::before {
            left: -50%;
            bottom: 0;
            border-right: 0;
            border-top: 0;
            width: 50%;
            height: 85%;
        }
        .foul-line::after {
            right: -50%;
            bottom: 0;
            border-left: 0;
            border-top: 0;
            width: 50%;
            height: 85%;
        }

        /* ì„ ìˆ˜ í¬ì§€ì…˜ */
        .player {
            --x: 50; --y: 50;
            position: absolute;
            left: calc(var(--x) * 1%);
            top: calc(var(--y) * 1%);
            transform: translate(-50%, -62%);
            text-align: center;
            cursor: pointer;
            user-select: none;
        }
        .avatar {
            width: clamp(36px, 4.5vw, 56px);
            height: clamp(36px, 4.5vw, 56px);
            border-radius: 50%;
            background: rgba(0,0,0,.75);
            border: 2px solid rgba(255,255,255,.7);
            display: grid;
            place-items: center;
            color: #fff;
            font-weight: 800;
            backdrop-filter: blur(2px);
            transition: transform .15s ease, box-shadow .15s ease;
        }
        .player:hover .avatar {
            transform: translateY(-2px);
            box-shadow: 0 10px 22px rgba(0,0,0,.25);
        }
        .badge-pos {
            right: -6px;
            top: -6px;
            font: 700 11px/1 system-ui;
            color: #fff;
            background: #dc3545;
            padding: 2px 7px;
            border-radius: 999px;
            border: 1px solid #ff9ec0;
        }
        .name {
            display: none;
            margin-top: 6px;
            padding: 2px 8px;
            font-weight: 700;
            font-size: 13px;
            color: #fff;
            background: rgba(0,0,0,.45);
            border-radius: 8px;
            white-space: nowrap;
        }
        .player.show .name { display: inline-block; }
        .player.selected .avatar { outline: 3px solid #ffc107; }

        .player.occupied { background: #28a745; border-color: #20c997; }
        .player .avatar { font-size: 0.8em; font-weight: bold; color: #fff; line-height: 1; }
        .player .badge-pos {
            position: absolute;
            top: -8px; right: -8px;
            background: #dc3545; color: #fff;
            font-size: 0.6em; font-weight: bold;
            padding: 2px 4px; border-radius: 8px;
            border: 1px solid #fff; min-width: 16px; text-align: center;
        }
        .player .name {
            position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: #fff; padding: 4px 8px; border-radius: 4px;
            font-size: 0.7em; white-space: nowrap; opacity: 0; transition: opacity 0.3s ease;
            pointer-events: none; z-index: 10;
        }
        .player.show .name, .player:hover .name { opacity: 1; }

        /* ì‹ ì²­ëœ í¬ì§€ì…˜ ìŠ¤íƒ€ì¼ */
        .player.occupied .avatar { background: #28a745; border-color: #28a745; }
        .player.occupied .badge-pos { background: #28a745; }

        /* ì‹ ì²­ í¼ ìŠ¤íƒ€ì¼ (í™”ì´íŠ¸ ë°°ê²½ìš©) */
        .application-form {
            max-width: 600px;
            margin: 0 auto 30px;
            padding: 20px;
            background: #ffffff;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #111; }
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #d0d5dd;
            border-radius: 8px;
            background: #fff;
            color: #111;
            font-size: 16px;
        }
        .form-group input::placeholder, .form-group select::placeholder { color:#9aa3af; }
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #0b5cff;
            box-shadow: 0 0 0 3px rgba(11,92,255,.15);
        }
        .btn-apply {
            width: 100%;
            padding: 15px;
            background: #ffcccc; /* ì—°í•œ ë¹¨ê°„ìƒ‰ ë°°ê²½ */
            color: #c00; /* ì§™ì€ ë¹¨ê°„ìƒ‰ ê¸€ì”¨ (ì„ íƒ ì‚¬í•­) */
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .btn-apply:hover { background: #ff9999; } /* ì‚´ì§ ë” ì§™ì€ ì—°í•œ ë¹¨ê°„ìƒ‰ */

        /* ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ */
        .fields-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: flex-start;
            flex-wrap: wrap;
            padding: 20px;
            max-width: 100%;
        }
        .field-container {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .field.home-team,
        .field.away-team {
            width: min(85vw, 500px);
            height: min(85vw, 500px);
            margin: 0 auto 20px;
        }
        @media (max-width: 768px) {
            .fields-container { flex-direction: column; gap: 15px; padding: 15px; }
            .field-container { min-width: 100%; max-width: 100%; }
            .field.home-team, .field.away-team { width: min(92vw, 420px); height: min(92vw, 420px); }
            h3 { font-size: 14px !important; margin-bottom: 8px !important; }
        }
        @media (max-width: 480px) {
            .fields-container { padding: 10px; }
            .field.home-team, .field.away-team { width: min(96vw, 380px); height: min(96vw, 380px); }
        }

        /* ===== ë§¤ì¹˜ ì •ë³´ & ì°¸ê°€ë¹„: í™”ë©´ ê°€ë¡œ ê½‰ ì±„ìš°ëŠ” ê·œê²© ===== */
        .match-info,
        .price-info{
            width:100vw;                    /* í™”ë©´ ê°€ë¡œ ì „ì²´ */
            max-width:100%;
            margin:20px 0;                  /* ì¢Œìš° ë§ˆì§„ ì œê±°, ìœ„ì•„ë˜ë§Œ ì—¬ë°± */
            padding:20px clamp(16px, 4vw, 40px);
            border-radius:0;                /* í’€ë¸”ë¦¬ë“œ ëŠë‚Œ */
            box-sizing:border-box;          /* padding í¬í•¨ */
        }

        /* í™”ì´íŠ¸ ë°°ê²½ ê¸°ì¤€ ê°€ë…ì„± ë³´ì • */
        .match-info{
            background:#f8f9fa;
            border:1px solid #e5e7eb;
        }
        .match-info h3{
            margin-top: 0;
            color: #0b5cff;
            text-align: center;
            margin-bottom: 20px;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .info-row:last-child { border-bottom: none; }
        .info-label { color: #666; }
        .info-value { color: #111; }

        .price-info{
            background:#ffdddd; /* ì—°í•œ ë¹¨ê°„ìƒ‰ ë°°ê²½ */
            border:1px solid #ffaaaa; /* ì—°í•œ ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ */
        }
        .price-info h4 { margin-top: 0; color: #c00; /* ì§™ì€ ë¹¨ê°„ìƒ‰ ê¸€ì”¨ */ text-align: center; }
        .price-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        @media (min-width: 900px){
            .price-grid{ grid-template-columns: repeat(6, 1fr); } /* ë„“ì€ í™”ë©´ í•œ ì¤„ */
        }
        .price-item{
            text-align: center;
            padding: 10px;
            background: #ffebee; /* ì¡°ê¸ˆ ë” ë°ì€ ì—°í•œ ë¹¨ê°„ìƒ‰ */
            border-radius: 6px;
            border: 1px solid #ffaaaa; /* ì—°í•œ ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ */
        }
        .price-item .position{ font-weight: 600; color: #c00; margin-bottom: 5px; }
        .price-item .price{ font-size: 18px; font-weight: 700; color: #111; }
    </style>
</head>
<body>
<header class="header">
    <h2>âš¾ ì•¼êµ¬ ë§¤ì¹˜ ì‹ ì²­</h2>
    <a class="btn-list" href="/match/list" >ëª©ë¡ìœ¼ë¡œ</a>
</header>

<div class="match-info">
    <h3>ë§¤ì¹˜ ì •ë³´</h3>
    <div class="info-row">
        <span class="info-label">ê²½ê¸°ì¥:</span>
        <span class="info-value">{{venue.venueName}}</span>
    </div>
    <div class="info-row">
        <span class="info-label">ë‚ ì§œ:</span>
        <span class="info-value">{{matchDate}}</span>
    </div>
    <div class="info-row">
        <span class="info-label">ì‹œê°„:</span>
        <span class="info-value">{{startTime}} - {{endTime}}</span>
    </div>
    <div class="info-row">
        <span class="info-label">ì°¸ê°€ì:</span>
        <span class="info-value">{{currentPlayers}}/{{maxPlayers}}ëª…</span>
    </div>
</div>

<div class="price-info">
    <h4>í¬ì§€ì…˜ë³„ ì°¸ê°€ë¹„</h4>
    <div class="price-grid">
        <div class="price-item"><div class="position">íˆ¬ìˆ˜</div><div class="price">10,000ì›</div></div>
        <div class="price-item"><div class="position">í¬ìˆ˜</div><div class="price">8,000ì›</div></div>
        <div class="price-item"><div class="position">ë‚´ì•¼ìˆ˜</div><div class="price">6,000ì›</div></div>
        <div class="price-item"><div class="position">ì™¸ì•¼ìˆ˜</div><div class="price">5,000ì›</div></div>
        <div class="price-item"><div class="position">ì§€ëª…íƒ€ì</div><div class="price">4,000ì›</div></div>
        <div class="price-item"><div class="position">ëŒ€íƒ€</div><div class="price">ë¬´ë£Œ</div></div>
    </div>
</div>

<div class="fields-container">
    <div class="field-container">
        <h3 style="text-align: center; color: #007bff; margin-bottom: 8px; font-size: 14px;">ğŸ  í™ˆíŒ€</h3>
        <div class="field home-team">
            <div class="grass-pattern"></div>
            <div class="infield-dirt"></div>
            <div class="home-plate"></div>
            <div class="base first-base"></div>
            <div class="base second-base"></div>
            <div class="base third-base"></div>
            <div class="mound"></div>
            <div class="foul-line"></div>

            <div class="player" style="--x:50; --y:88;" data-name="í¬ìˆ˜ (C)" data-pos="C" data-position="C">
                <div class="avatar">C</div>
                <div class="badge-pos">C</div>
                <div class="name">{{#positionStatus.C}}{{positionStatus.C}}{{/positionStatus.C}}{{^positionStatus.C}}í¬ìˆ˜ (C){{/positionStatus.C}}</div>
            </div>

            <div class="player" style="--x:50; --y:60;" data-name="íˆ¬ìˆ˜ (P)" data-pos="P" data-position="P">
                <div class="avatar">P</div>
                <div class="badge-pos">P</div>
                <div class="name">{{#positionStatus.P}}{{positionStatus.P}}{{/positionStatus.P}}{{^positionStatus.P}}íˆ¬ìˆ˜ (P){{/positionStatus.P}}</div>
            </div>

            <div class="player" style="--x:80; --y:60;" data-name="1ë£¨ìˆ˜ (1B)" data-pos="1B" data-position="1B">
                <div class="avatar">1B</div>
                <div class="badge-pos">1B</div>
                <div class="name">{{#positionStatus.1B}}{{positionStatus.1B}}{{/positionStatus.1B}}{{^positionStatus.1B}}1ë£¨ìˆ˜ (1B){{/positionStatus.1B}}</div>
            </div>

            <div class="player" style="--x:68; --y:42;" data-name="2ë£¨ìˆ˜ (2B)" data-pos="2B" data-position="2B">
                <div class="avatar">2B</div>
                <div class="badge-pos">2B</div>
                <div class="name">{{#positionStatus.2B}}{{positionStatus.2B}}{{/positionStatus.2B}}{{^positionStatus.2B}}2ë£¨ìˆ˜ (2B){{/positionStatus.2B}}</div>
            </div>

            <div class="player" style="--x:20; --y:60;" data-name="3ë£¨ìˆ˜ (3B)" data-pos="3B" data-position="3B">
                <div class="avatar">3B</div>
                <div class="badge-pos">3B</div>
                <div class="name">{{#positionStatus.3B}}{{positionStatus.3B}}{{/positionStatus.3B}}{{^positionStatus.3B}}3ë£¨ìˆ˜ (3B){{/positionStatus.3B}}</div>
            </div>

            <div class="player" style="--x:32; --y:42;" data-name="ìœ ê²©ìˆ˜ (SS)" data-pos="SS" data-position="SS">
                <div class="avatar">SS</div>
                <div class="badge-pos">SS</div>
                <div class="name">{{#positionStatus.SS}}{{positionStatus.SS}}{{/positionStatus.SS}}{{^positionStatus.SS}}ìœ ê²©ìˆ˜ (SS){{/positionStatus.SS}}</div>
            </div>

            <div class="player" style="--x:15; --y:20;" data-name="ì¢Œìµìˆ˜ (LF)" data-pos="LF" data-position="LF">
                <div class="avatar">LF</div>
                <div class="badge-pos">LF</div>
                <div class="name">{{#positionStatus.LF}}{{positionStatus.LF}}{{/positionStatus.LF}}{{^positionStatus.LF}}ì¢Œìµìˆ˜ (LF){{/positionStatus.LF}}</div>
            </div>

            <div class="player" style="--x:50; --y:12;" data-name="ì¤‘ê²¬ìˆ˜ (CF)" data-pos="CF" data-position="CF">
                <div class="avatar">CF</div>
                <div class="badge-pos">CF</div>
                <div class="name">{{#positionStatus.CF}}{{positionStatus.CF}}{{/positionStatus.CF}}{{^positionStatus.CF}}ì¤‘ê²¬ìˆ˜ (CF){{/positionStatus.CF}}</div>
            </div>

            <div class="player" style="--x:85; --y:20;" data-name="ìš°ìµìˆ˜ (RF)" data-pos="RF" data-position="RF">
                <div class="avatar">RF</div>
                <div class="badge-pos">RF</div>
                <div class="name">{{#positionStatus.RF}}{{positionStatus.RF}}{{/positionStatus.RF}}{{^positionStatus.RF}}ìš°ìµìˆ˜ (RF){{/positionStatus.RF}}</div>
            </div>
        </div>
    </div>

    <div class="field-container">
        <h3 style="text-align: center; color: #dc3545; margin-bottom: 8px; font-size: 14px;">âœˆï¸ ì›ì •íŒ€</h3>
        <div class="field away-team">
            <div class="grass-pattern"></div>
            <div class="infield-dirt"></div>
            <div class="home-plate"></div>
            <div class="base first-base"></div>
            <div class="base second-base"></div>
            <div class="base third-base"></div>
            <div class="mound"></div>
            <div class="foul-line"></div>

            <div class="player" style="--x:50; --y:88;" data-name="ì›ì • í¬ìˆ˜ (C2)" data-pos="C2" data-position="C2">
                <div class="avatar">C</div>
                <div class="badge-pos">C</div>
                <div class="name">{{#positionStatus.C2}}{{positionStatus.C2}}{{/positionStatus.C2}}{{^positionStatus.C2}}ì›ì • í¬ìˆ˜ (C2){{/positionStatus.C2}}</div>
            </div>

            <div class="player" style="--x:50; --y:60;" data-name="ì›ì • íˆ¬ìˆ˜ (P2)" data-pos="P2" data-position="P2">
                <div class="avatar">P</div>
                <div class="badge-pos">P</div>
                <div class="name">{{#positionStatus.P2}}{{positionStatus.P2}}{{/positionStatus.P2}}{{^positionStatus.P2}}ì›ì • íˆ¬ìˆ˜ (P2){{/positionStatus.P2}}</div>
            </div>

            <div class="player" style="--x:80; --y:60;" data-name="ì›ì • 1ë£¨ìˆ˜ (1B2)" data-pos="1B2" data-position="1B2">
                <div class="avatar">1B</div>
                <div class="badge-pos">1B</div>
                <div class="name">{{#positionStatus.1B2}}{{positionStatus.1B2}}{{/positionStatus.1B2}}{{^positionStatus.1B2}}ì›ì • 1ë£¨ìˆ˜ (1B2){{/positionStatus.1B2}}</div>
            </div>

            <div class="player" style="--x:68; --y:42;" data-name="ì›ì • 2ë£¨ìˆ˜ (2B2)" data-pos="2B2" data-position="2B2">
                <div class="avatar">2B</div>
                <div class="badge-pos">2B</div>
                <div class="name">{{#positionStatus.2B2}}{{positionStatus.2B2}}{{/positionStatus.2B2}}{{^positionStatus.2B2}}ì›ì • 2ë£¨ìˆ˜ (2B2){{/positionStatus.2B2}}</div>
            </div>

            <div class="player" style="--x:20; --y:60;" data-name="ì›ì • 3ë£¨ìˆ˜ (3B2)" data-pos="3B2" data-position="3B2">
                <div class="avatar">3B</div>
                <div class="badge-pos">3B</div>
                <div class="name">{{#positionStatus.3B2}}{{positionStatus.3B2}}{{/positionStatus.3B2}}{{^positionStatus.3B2}}ì›ì • 3ë£¨ìˆ˜ (3B2){{/positionStatus.3B2}}</div>
            </div>

            <div class="player" style="--x:32; --y:42;" data-name="ì›ì • ìœ ê²©ìˆ˜ (SS2)" data-pos="SS2" data-position="SS2">
                <div class="avatar">SS</div>
                <div class="badge-pos">SS</div>
                <div class="name">{{#positionStatus.SS2}}{{positionStatus.SS2}}{{/positionStatus.SS2}}{{^positionStatus.SS2}}ì›ì • ìœ ê²©ìˆ˜ (SS2){{/positionStatus.SS2}}</div>
            </div>

            <div class="player" style="--x:15; --y:20;" data-name="ì›ì • ì¢Œìµìˆ˜ (LF2)" data-pos="LF2" data-position="LF2">
                <div class="avatar">LF</div>
                <div class="badge-pos">LF</div>
                <div class="name">{{#positionStatus.LF2}}{{positionStatus.LF2}}{{/positionStatus.LF2}}{{^positionStatus.LF2}}ì›ì • ì¢Œìµìˆ˜ (LF2){{/positionStatus.LF2}}</div>
            </div>

            <div class="player" style="--x:50; --y:12;" data-name="ì›ì • ì¤‘ê²¬ìˆ˜ (CF2)" data-pos="CF2" data-position="CF2">
                <div class="avatar">CF</div>
                <div class="badge-pos">CF</div>
                <div class="name">{{#positionStatus.CF2}}{{positionStatus.CF2}}{{/positionStatus.CF2}}{{^positionStatus.CF2}}ì›ì • ì¤‘ê²¬ìˆ˜ (CF2){{/positionStatus.CF2}}</div>
            </div>

            <div class="player" style="--x:85; --y:20;" data-name="ì›ì • ìš°ìµìˆ˜ (RF2)" data-pos="RF2" data-position="RF2">
                <div class="avatar">RF</div>
                <div class="badge-pos">RF</div>
                <div class="name">{{#positionStatus.RF2}}{{positionStatus.RF2}}{{/positionStatus.RF2}}{{^positionStatus.RF2}}ì›ì • ìš°ìµìˆ˜ (RF2){{/positionStatus.RF2}}</div>
            </div>
        </div>
    </div>
</div>

<div class="application-form">
    <h3>í¬ì§€ì…˜ ì‹ ì²­</h3>
    <form action="/match/{{matchId}}/apply" method="post">
        <div class="form-group">
            <label for="position">í¬ë§ í¬ì§€ì…˜</label>
            <select id="position" name="position" required>
                <option value="">í¬ì§€ì…˜ì„ ì„ íƒí•˜ì„¸ìš”</option>
                <optgroup label="ğŸ  í™ˆíŒ€">
                    <option value="P" data-price="15000">í™ˆíŒ€ íˆ¬ìˆ˜ (P) - 15,000ì›</option>
                    <option value="C" data-price="12000">í™ˆíŒ€ í¬ìˆ˜ (C) - 12,000ì›</option>
                    <option value="1B" data-price="10000">í™ˆíŒ€ 1ë£¨ìˆ˜ (1B) - 10,000ì›</option>
                    <option value="2B" data-price="10000">í™ˆíŒ€ 2ë£¨ìˆ˜ (2B) - 10,000ì›</option>
                    <option value="3B" data-price="10000">í™ˆíŒ€ 3ë£¨ìˆ˜ (3B) - 10,000ì›</option>
                    <option value="SS" data-price="12000">í™ˆíŒ€ ìœ ê²©ìˆ˜ (SS) - 12,000ì›</option>
                    <option value="LF" data-price="8000">í™ˆíŒ€ ì¢Œìµìˆ˜ (LF) - 8,000ì›</option>
                    <option value="CF" data-price="10000">í™ˆíŒ€ ì¤‘ê²¬ìˆ˜ (CF) - 10,000ì›</option>
                    <option value="RF" data-price="8000">í™ˆíŒ€ ìš°ìµìˆ˜ (RF) - 8,000ì›</option>
                </optgroup>
                <optgroup label="âœˆï¸ ì›ì •íŒ€">
                    <option value="P2" data-price="15000">ì›ì •íŒ€ íˆ¬ìˆ˜ (P2) - 15,000ì›</option>
                    <option value="C2" data-price="12000">ì›ì •íŒ€ í¬ìˆ˜ (C2) - 12,000ì›</option>
                    <option value="1B2" data-price="10000">ì›ì •íŒ€ 1ë£¨ìˆ˜ (1B2) - 10,000ì›</option>
                    <option value="2B2" data-price="10000">ì›ì •íŒ€ 2ë£¨ìˆ˜ (2B2) - 10,000ì›</option>
                    <option value="3B2" data-price="10000">ì›ì •íŒ€ 3ë£¨ìˆ˜ (3B2) - 10,000ì›</option>
                    <option value="SS2" data-price="12000">ì›ì •íŒ€ ìœ ê²©ìˆ˜ (SS2) - 12,000ì›</option>
                    <option value="LF2" data-price="8000">ì›ì •íŒ€ ì¢Œìµìˆ˜ (LF2) - 8,000ì›</option>
                    <option value="CF2" data-price="10000">ì›ì •íŒ€ ì¤‘ê²¬ìˆ˜ (CF2) - 10,000ì›</option>
                    <option value="RF2" data-price="8000">ì›ì •íŒ€ ìš°ìµìˆ˜ (RF2) - 8,000ì›</option>
                </optgroup>
            </select>
        </div>
        <div class="form-group">
            <label for="price">ì°¸ê°€ë¹„ (ì›)</label>
            <input type="number" id="price" name="price" min="0" step="1000" required>
        </div>
        <button type="submit" class="btn-apply">ë§¤ì¹˜ ì‹ ì²­í•˜ê¸°</button>
    </form>
</div>

<script>
    // ì´ë¦„ ë¼ë²¨ í† ê¸€
    document.querySelectorAll('.player').forEach(p => {
        const nameEl = p.querySelector('.name');
        nameEl.textContent = p.dataset.name;
        p.addEventListener('click', () => p.classList.toggle('show'));
    });

    document.addEventListener('DOMContentLoaded', function() {
        const positionSelect = document.getElementById('position');

        // positionStatus ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ occupied í¬ì§€ì…˜ ì²˜ë¦¬
        const positionStatus = {
            P: '{{positionStatus.P}}',
            C: '{{positionStatus.C}}',
            '1B': '{{positionStatus.1B}}',
            '2B': '{{positionStatus.2B}}',
            '3B': '{{positionStatus.3B}}',
            SS: '{{positionStatus.SS}}',
            LF: '{{positionStatus.LF}}',
            CF: '{{positionStatus.CF}}',
            RF: '{{positionStatus.RF}}',
            P2: '{{positionStatus.P2}}',
            C2: '{{positionStatus.C2}}',
            '1B2': '{{positionStatus.1B2}}',
            '2B2': '{{positionStatus.2B2}}',
            '3B2': '{{positionStatus.3B2}}',
            SS2: '{{positionStatus.SS2}}',
            LF2: '{{positionStatus.LF2}}',
            CF2: '{{positionStatus.CF2}}',
            RF2: '{{positionStatus.RF2}}'
        };

        // ì‹ ì²­ëœ í¬ì§€ì…˜ í‘œì‹œ + occupied
        document.querySelectorAll('.player').forEach(p => {
            const positionKey = p.dataset.position;
            const nameEl = p.querySelector('.name');

            if (positionStatus[positionKey] && positionStatus[positionKey].trim() !== '') {
                nameEl.textContent = positionStatus[positionKey];
                nameEl.style.color = '#00aa00';
                p.classList.add('occupied');
            } else {
                nameEl.textContent = p.dataset.name;
            }
        });

        // ì‹ ì²­ëœ í¬ì§€ì…˜ ì˜µì…˜ ë¹„í™œì„±í™”
        const occupiedPositions = [];
        document.querySelectorAll('.player.occupied').forEach(p => {
            occupiedPositions.push(p.dataset.pos);
        });
        Array.from(positionSelect.options).forEach(option => {
            if (occupiedPositions.includes(option.value)) {
                option.disabled = true;
                if (!/ë§ˆê°/.test(option.textContent)) option.textContent += ' (ë§ˆê°)';
            }
        });

        // í¬ì§€ì…˜ ì„ íƒ ì‹œ ê°€ê²© ìë™ ì…ë ¥
        positionSelect.addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            const priceInput = document.getElementById('price');
            priceInput.value = selectedOption.value ? selectedOption.getAttribute('data-price') : '';
        });
    });
</script>
</body>
</html>